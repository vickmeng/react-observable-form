import{t as e,l as t,R as r,m as n,s as a,a as l,S as o,r as i,F as s,I as c,T as u,b as p,c as d,d as m,e as b,L as f,f as h,h as v,g,i as E,j as y,k as C,n as x,o as j,p as V,C as S,q as k,u as P,v as _,w as O,x as F,y as $,z as G,A as w,B as N,D as A,E as D,G as R}from"./vendor.8ddd4398.js";var L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var I=function(){return(I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function T(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e}var q=function(){function r(){var e=this;this.valueSubject$=new o,this.disabledSubject$=new o,this.validSubject$=new o,this.dirtySubject$=new o,this.errorsSubject$=new o,this.destroy$=new o,this.destroy=function(){e.destroy$.next(!0)},this.setErrors=function(r){t.exports.isEqual(r,e.errors)||e.errorsSubject$.next(r)},this.setValidators=function(t){e._validators=t,e.validateAndUpdateErrors(e.value)},this.disable=function(){e.setDisabled(!0)},this.enable=function(){e.setDisabled(!1)},this.setValid=function(t){t!==e.valid&&e.validSubject$.next(t)},this.markAsDirty=function(){e.setDirty(!0)},this.markAsPristine=function(){e.setDirty(!1)},this.initValue=function(t){e.updatePrivateValue(t)},this.initDisabled=function(t){e._disabled=t},this.initDirty=function(t){e._dirty=t},this.initErrors=function(t){e._errors=t},this.initValid=function(t){e._valid=t},this.initValidators=function(t){e._validators=t},this.updatePrivateValue=function(t){e._value=t},this.updatePrivateValid=function(t){e._valid=t},this.updatePrivateErrors=function(t){e._errors=t},this.updatePrivateDisabled=function(t){e._disabled=t},this.updatePrivateDirty=function(t){e._dirty=t},this.validateAndUpdateErrors=function(t){var r=W(t,e._validators);e.setErrors(r),e.setValid(e.checkValid())},this.setDisabled=function(t){t!==e.disabled&&e.disabledSubject$.next(t)},this.setDirty=function(t){t!==e.dirty&&e.dirtySubject$.next(t)}}return Object.defineProperty(r.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"errors",{get:function(){return this._errors},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valid",{get:function(){return this._valid},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"invalid",{get:function(){return!this._valid},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disabled",{get:function(){return this._disabled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"enabled",{get:function(){return!this._disabled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pristine",{get:function(){return!this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valueChange",{get:function(){return this.valueSubject$.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"errorsChange",{get:function(){return this.errorsSubject$.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disabledChange",{get:function(){return this.disabledSubject$.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dirtyChange",{get:function(){return this.dirtySubject$.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"validChange",{get:function(){return this.validSubject$.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),r.prototype.initBasicParams=function(e,t){var r=t.disabled,n=void 0!==r&&r,a=t.dirty,l=void 0!==a&&a,o=t.validators,i=void 0===o?[]:o,s=t.autoMarkAsDirty,c=void 0===s||s;this.initValue(e),this.initValidators(i),this.initDisabled(n),this.initDirty(l),this.initErrors(W(e,i)),this.initValid(this.checkValid()),this.validChange.subscribe(this.updatePrivateValid),this.errorsChange.subscribe(this.updatePrivateErrors),this.disabledChange.subscribe(this.updatePrivateDisabled),this.dirtyChange.subscribe(this.updatePrivateDirty),this.valueChange.subscribe(this.updatePrivateValue),this.valueChange.subscribe(this.validateAndUpdateErrors),c&&this.valueChange.subscribe(this.markAsDirty)},r}(),M=function(e){function t(t,r){void 0===r&&(r={});var n=e.call(this)||this;return n.setValue=function(e,t){e!==n.value&&n.valueSubject$.next(e)},n.checkValid=function(){return!n.errors},n.initBasicParams(t,r),n}return B(t,e),t}(q);var W=function(e,r){var n=r.reduce((function(t,r){var n=r(e);return n&&(t=I(I({},t),n)),t}),{});return t.exports.isEmpty(n)?null:n},U=function(e){return e instanceof q?e:new(M.bind.apply(M,T([void 0],e)))},z=function(e,t){var r=i.exports.useRef(!1);i.exports.useEffect((function(){if(r.current)return e();r.current=!0}),t)},H=function(e){var t=i.exports.useState(e.value),r=t[0],n=t[1];return i.exports.useEffect((function(){var t=e.valueChange.subscribe(n);return function(){t.unsubscribe()}}),[e]),z((function(){n(e.value)}),[e]),r},J=function(e){var t=i.exports.useState(e.disabled),r=t[0],n=t[1];return i.exports.useEffect((function(){var t=e.disabledChange.subscribe(n);return function(){t.unsubscribe()}}),[e]),z((function(){n(e.disabled)}),[e]),r},K=function(e){var t=i.exports.useState(e.dirty),r=t[0],n=t[1];return i.exports.useEffect((function(){var t=e.dirtyChange.subscribe(n);return function(){t.unsubscribe()}}),[e]),z((function(){n(e.dirty)}),[e]),r},Q=function(e){var t=i.exports.useState(e.valid),r=t[0],n=t[1];return i.exports.useEffect((function(){var t=e.validChange.subscribe(n);return function(){t.unsubscribe()}}),[e]),z((function(){n(e.valid)}),[e]),r},X=function(e){var t=i.exports.useState(e.errors),r=t[0],n=t[1];return i.exports.useEffect((function(){var t=e.errorsChange.subscribe(n);return function(){t.unsubscribe()}}),[e]),z((function(){n(e.errors)}),[e]),r},Y=r.createContext(null);function Z(e){var t=e.children,r=i.exports.useContext(Y),n=function(e){return void 0!==e.name}(e)?{name:e.name,control:r.get(e.name)}:{control:e.control},a=n.name,l=void 0===a?void 0:a,o=n.control;if(!(o instanceof M))throw new Error("props error:Field can only receive FieldControl as control");var s=H(o),c=J(o),u=K(o),p=Q(o),d=X(o);return t({name:l,value:s,setValue:o.setValue,markAsDirty:o.markAsDirty,markAsPristine:o.markAsPristine,errors:d,disabled:c,enabled:!c,valid:p,invalid:!p,dirty:u,pristine:!u})}var ee=function(e){var t=e.children,n=i.exports.useContext(Y),a=function(e){return void 0!==e.name}(e)?{name:e.name,control:n.get(e.name)}:{control:e.control},l=a.name,o=void 0===l?void 0:l,s=a.control,c=H(s),u=J(s),p=K(s),d=Q(s),m={name:o,value:c,disabled:u,enabled:!u,errors:X(s),valid:d,invalid:!d,dirty:p,pristine:!p,controls:function(e){var t=i.exports.useState(e.controls),r=t[0],n=t[1];return i.exports.useEffect((function(){var t=e.controlsChange.subscribe(n);return function(){t.unsubscribe()}}),[e]),z((function(){n(e.controls)}),[e]),r}(s)};return r.createElement(Y.Provider,{value:s},t(m))},te=function(t){function r(r,i){void 0===i&&(i={});var s=t.call(this)||this;return s.controlsSubject=new o,s.controlsChangeNotifyLock=!1,s.get=function(e){return s._controls[e]},s.setValue=function(e){e!==s.value&&(s.setValueToControls(e),s.valueSubject$.next(e))},s.add=function(e,t){var r;if(s.controls[e])console.warn("already has control named "+e+" in formGroup");else{var n=Object.assign({},s.controls,((r={})[e]=U(t),r));s.controlsSubject.next(n)}},s.remove=function(e){if(s.controls[e]){var t=Object.assign({},s.controls);delete t[e],s.controlsSubject.next(t)}else console.warn("cannot find control named "+e+" in formGroup")},s.checkValid=function(){return!(s.errors||Object.values(s._controls).some((function(e){return e.invalid})))},s.initControls=function(e){var t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];t[r]=U(n)}s._controls=t},s.setValueToControls=function(e){s.controlsChangeNotifyLock=!0,Object.keys(s._controls).forEach((function(t){var r=Object.prototype.hasOwnProperty.call(e,t);s._controls[t].setValue(r?e[t]:null)})),s.controlsChangeNotifyLock=!1},s.updatePrivateControlsAndResetSubscribeGraph=function(e){s.updatePrivateControls(e),s.valueSubject$.next(s.getGroupValueFromControls()),s.resetGraph()},s.updatePrivateControls=function(e){s._controls=e},s.getGroupValueFromControls=function(){var e={};return Object.keys(s._controls).forEach((function(t){var r=s._controls[t];r.enabled&&(e[t]=r.value)})),e},s.resetGraph=function(){var e=Object.values(s._controls),t=e.map((function(e){return e.valueChange})),r=e.map((function(e){return e.validChange})),n=e.map((function(e){return e.disabledChange}));s.resetValueGraph(T(T([],t),n)),s.resetValidGraph(r)},s.resetValidGraph=function(t){s.validChangesSubscription&&s.validChangesSubscription.unsubscribe(),s.validChangesSubscription=n.apply(void 0,t).pipe(e(s.destroy$),a((function(){return s.controlsChangeNotifyLock})),l((function(){return s.checkValid()}))).subscribe(s.setValid)},s.initControls(r),s.initBasicParams(s.getGroupValueFromControls(),i),s.resetGraph(),s.controlsChange.subscribe(s.updatePrivateControlsAndResetSubscribeGraph),s}return B(r,t),Object.defineProperty(r.prototype,"controls",{get:function(){return this._controls},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"controlsChange",{get:function(){return this.controlsSubject.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),r.prototype.resetValueGraph=function(t){var r=this;this.valueChangesSubscription&&this.valueChangesSubscription.unsubscribe(),this.valueChangesSubscription=n.apply(void 0,t).pipe(e(this.destroy$),a((function(){return r.controlsChangeNotifyLock})),l((function(){return r.getGroupValueFromControls()}))).subscribe((function(e){r.valueSubject$.next(e)}))},r}(q);!function(t){function r(r,i){void 0===i&&(i={});var s=t.call(this)||this;return s.controlsSubject=new o,s.controlsChangeNotifyLock=!1,s.get=function(e){return s._controls[+e]},s.insert=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=T([],s.controls),a=t.map((function(e){return U(e)}));n.splice.apply(n,T([e,0],a)),s.controlsSubject.next(n)},s.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.insert.apply(s,T([s.controls.length],e))},s.remove=function(e,t){void 0===t&&(t=1);var r=T([],s.controls);r.splice(e,t),s.controlsSubject.next(r)},s.setValue=function(e){e!==s.value&&s.valueSubject$.next(e)},s.checkValid=function(){return!(s.errors||s._controls.some((function(e){return e.invalid})))},s.initControls=function(e){s._controls=e.map((function(e){return U(e)}))},s.updatePrivateControlsAndResetSubscribeGraph=function(e){s.updatePrivateControls(e),s.valueSubject$.next(s.getListValueFromControls()),s.resetGraph()},s.updatePrivateControls=function(e){s._controls=e},s.getListValueFromControls=function(){var e=[];return Object.keys(s._controls).forEach((function(t,r){var n=s._controls[r];n.enabled&&(e[r]=n.value)})),e},s.resetGraph=function(){var e=s._controls.map((function(e){return e.valueChange})),t=s._controls.map((function(e){return e.validChange})),r=s._controls.map((function(e){return e.disabledChange}));s.resetValueGraph(T(T([],e),r)),s.resetValidGraph(t)},s.resetValidGraph=function(t){s.validChangesSubscription&&s.validChangesSubscription.unsubscribe(),s.validChangesSubscription=n.apply(void 0,t).pipe(e(s.destroy$),a((function(){return s.controlsChangeNotifyLock})),l((function(){return s.checkValid()}))).subscribe(s.setValid)},s.initControls(r),s.initBasicParams(s.getListValueFromControls(),i),s.resetGraph(),s.controlsChange.subscribe(s.updatePrivateControlsAndResetSubscribeGraph),s}B(r,t),Object.defineProperty(r.prototype,"controls",{get:function(){return this._controls},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"controlsChange",{get:function(){return this.controlsSubject.asObservable().pipe(e(this.destroy$))},enumerable:!1,configurable:!0}),r.prototype.resetValueGraph=function(t){var r=this;this.valueChangesSubscription&&this.valueChangesSubscription.unsubscribe(),this.valueChangesSubscription=n.apply(void 0,t).pipe(e(this.destroy$),a((function(){return r.controlsChangeNotifyLock})),l((function(){return r.getListValueFromControls()}))).subscribe((function(e){r.valueSubject$.next(e)}))}}(q);const re=()=>{const e=i.exports.useRef(new M(""));return r.createElement(Z,{control:e.current},(({value:e,setValue:t})=>r.createElement(s.Item,{label:"Ant Design"},r.createElement(c,{value:e,onChange:e=>t(e.target.value)}))))},ne=()=>{const e=i.exports.useRef(new M(""));return r.createElement(Z,{control:e.current},(({value:e,setValue:t})=>r.createElement(u,{label:"material-ui",value:e,onChange:e=>t(e.target.value)})))},ae=new te({married:["unmarried"],spouse:["",{disabled:!0}]}),le=ae.get("married"),oe=ae.get("spouse");le.valueChange.subscribe((e=>{"married"===e?oe.enable():(oe.setValue(""),oe.disable())}));const ie=()=>r.createElement(ee,{control:ae},(()=>r.createElement(r.Fragment,null,r.createElement(p,{component:"legend"},"婚姻状况"),r.createElement(Z,{name:"married"},(({value:e,setValue:t})=>r.createElement(r.Fragment,null,r.createElement(d,{value:e,onChange:e=>{t(e.target.value)}},r.createElement(m,{value:"unmarried",control:r.createElement(b,null),label:"未婚"}),r.createElement(m,{value:"married",control:r.createElement(b,null),label:"已婚"}))))),r.createElement("br",null),r.createElement(Z,{name:"spouse"},(({value:e,setValue:t,disabled:n})=>r.createElement(u,{label:"配偶姓名",disabled:n,value:e,onChange:e=>t(e.target.value)}))))));const se=()=>r.createElement("main",{className:"home"},r.createElement("div",{className:"banner"},r.createElement("img",{src:"/react-observable-form/assets/rx.18995810.png",className:"rxImg"}),r.createElement("img",{src:"/react-observable-form/assets/react.7f55f92c.svg",className:"reactImg"}),r.createElement("nav",null,r.createElement("div",null,r.createElement(f,{className:"link",to:"/quick-start"},"文档"),r.createElement(f,{className:"link",to:"/"},"示例")),r.createElement("div",null,r.createElement("a",{href:"https://github.com/vickmeng/react-observable-form"},r.createElement(h,null)))),r.createElement("h1",null,"React Observable Form"),r.createElement("h2",null,"可自由订阅状态变化的React响应式表单方案"),r.createElement("div",null,r.createElement(f,{className:"quick-start link",to:"/quick-start"},"快速开始"))),r.createElement("section",null,r.createElement("h2",null,"响应式"),r.createElement("p",null,"随时随处订阅表单元素状态变化"),r.createElement("img",{src:"/react-observable-form/assets/flow.1c028861.png",width:500})),r.createElement("section",null,r.createElement("h2",null,"自由集成"),r.createElement("p",null,"自由对接流行的组件库"),r.createElement("div",{className:"third"},r.createElement("div",{className:"third--demo antd"},r.createElement(re,null)),r.createElement("div",{className:"divide vertical"}),r.createElement("div",{className:"third--demo mui"},r.createElement(ne,null)))),r.createElement("section",null,r.createElement("h2",null,"集中管理"),r.createElement("p",null,"声明式表单，集中管理动态逻辑"),r.createElement("div",{className:"declare"},r.createElement("div",{className:"code"},r.createElement(v,{language:"javascript",style:g},'const group = new GroupControl({\n  married: ["unmarried"],\n  spouse: ["", { disabled: true }],\n});\n\nconst married = group.get("married");\nconst spouse = group.get("spouse");\n\nmarried.valueChange.subscribe((v) => {\n  if (v === "married") {\n    spouse.enable();\n  } else {\n    spouse.setValue("");\n    spouse.disable();\n  }\n});')),r.createElement("div",{className:"demo"},r.createElement(ie,null)))),r.createElement("footer",null,"遵循 MIT 开源协议    Copyright © laomeng")),ce=()=>r.createElement("div",{className:"page"},r.createElement(E,{paragraph:!0,variant:"h2"},"快速开始"),r.createElement(E,{paragraph:!0,variant:"h4"},"环境准备"),r.createElement(E,{paragraph:!0},"请确保使用 v16.8及更高版本的react"),r.createElement(E,{paragraph:!0,variant:"h4"},"安装"),r.createElement(v,{language:"javascript",style:g},"yarn add rxjs react-observable-form\n\nor\n\nnpm install rxjs react-observable-form"));const ue={title:"基础使用",routes:[{text:"单一元素",link:"/field"},{text:"列表",link:"/list"},{text:"群组",link:"/group"}]},pe={title:"高级使用",routes:[{text:"动态表单",link:""},{text:"联合校验",link:""},{text:"订阅变化",link:""},{text:"与Rxjs",link:""}]},de={title:"API",routes:[{text:"<Field/>",link:""},{text:"<Group/>",link:""},{text:"<List/>",link:""},{text:"<Error/>",link:""},{text:"FieldControl",link:""},{text:"GroupControl",link:""},{text:"ListControl",link:""}]},me=({menu:e})=>{const[t,n]=i.exports.useState(!1);return r.createElement(r.Fragment,null,r.createElement(C,{button:!0,onClick:()=>{n(!t)}},r.createElement(x,{primary:e.title}),t?r.createElement(j,null):r.createElement(V,null)),r.createElement(S,{in:t,timeout:"auto",unmountOnExit:!0},r.createElement(y,{component:"div",disablePadding:!0,className:"submenu--list"},e.routes.map((e=>r.createElement(f,{to:e.link,key:e.text},r.createElement(C,{button:!0,className:"nested"},r.createElement(x,{primary:e.text}))))))))},be=()=>r.createElement("aside",{className:"menu"},r.createElement(y,{component:"nav","aria-labelledby":"nested-list-subheader"},r.createElement(f,{to:"/"},r.createElement(C,{button:!0},r.createElement(x,{primary:"首页"}))),r.createElement(f,{to:"/quick-start"},r.createElement(C,{button:!0},r.createElement(x,{primary:"快速开始"}))),r.createElement(f,{to:"/core"},r.createElement(C,{button:!0},r.createElement(x,{primary:"核心概念"}))),r.createElement(me,{menu:ue}),r.createElement(me,{menu:pe}),r.createElement(me,{menu:de}))),fe=()=>r.createElement("div",{className:"page"},r.createElement(E,{paragraph:!0,variant:"h2"},"核心概念"),r.createElement(E,{paragraph:!0},"react-observable-form主要包含两个概念：Controller与Component。"),r.createElement(E,{paragraph:!0,variant:"h4"},"Controllers"),r.createElement(E,{paragraph:!0},"Controller是数据的源头，它为视图提供一系列可观察对象，以及操作数据的方法，使用者可以通过订阅这些可观察对象获得如：value，errors等状态。"),r.createElement(E,{paragraph:!0},"我们有如下三种class创建Controller："),r.createElement(E,{paragraph:!0},r.createElement("ul",null,r.createElement("li",null,"FieldControl：创建单一元素的控制器"),r.createElement("li",null,"ListControl：创建集合型元素的控制器"),r.createElement("li",null,"GroupControl：创建组合型元素的控制器"))),r.createElement(E,{paragraph:!0,variant:"h4"},"Components"),r.createElement(E,{paragraph:!0},"就是React组件，作为Controller的订阅者，可以获取其订阅的Controller的值向下传递，也提供方法让下级组件将状态上传，从而实现受控组件。"),r.createElement(E,{paragraph:!0},"我们有如下三种Components："),r.createElement(E,{paragraph:!0},r.createElement("ul",null,r.createElement("li",null," ","<Field/>","：FieldControl的订阅器"),r.createElement("li",null," ","<List/>","：ListControl的订阅器"),r.createElement("li",null," ","<Group/>","：GroupControl的订阅器"))),r.createElement("br",null),r.createElement("br",null),r.createElement(E,{paragraph:!0},"可以查看",r.createElement(f,{to:"/"},"基础使用"),"更直观得进行学习")),he=e=>{const[t,n]=r.useState(!1);return r.createElement(k,null,r.createElement(P,null,e.demo),r.createElement(_,{disableSpacing:!0},r.createElement(O,{onClick:()=>{n(!t)},"aria-expanded":t,"aria-label":"show more"},r.createElement(F,null))),r.createElement(S,{in:t,timeout:"auto",unmountOnExit:!0},r.createElement(P,null,r.createElement(v,{language:"typescript",style:g},e.code))))},ve=()=>r.createElement("div",{className:"page"},r.createElement(E,{paragraph:!0,variant:"h2"},"单一元素"),r.createElement(E,{paragraph:!0},"首先，我们创建一个FieldController作为数据源。"),r.createElement(E,{paragraph:!0},"兵无常势，水无常形，你可以根据需要把FieldController放在任何一个可方便获取的位置,可以是组件外，","<Context/>","中，或者各种状态管理工具，但请避免重复创造实例。 本例中我们放在useRef里。"),r.createElement(v,{language:"typescript",style:g},'const controlRef = useRef(new FieldControl<string>(""));'),r.createElement(E,{paragraph:!0},"FieldControl接受两个参数，第一个参数是默认值，第二个参数是其他初始化配置。可以在",r.createElement(f,{to:"/"},"API"),"中获取更多信息。"),r.createElement(E,{paragraph:!0},"接下来利用","<Field/>","订阅FieldController"),r.createElement(v,{language:"typescript",style:g},"<Field control={controlRef.current}></Field>"),r.createElement(E,{paragraph:!0},"将FieldController传入","<Field/>","，","<Field/>","会在初始化自动订阅FieldController的状态，同时在销毁时取消订阅。"),r.createElement(E,{paragraph:!0},"接下来，将","<Field/>","得到的数据传递给视图"),r.createElement(v,{language:"typescript",style:g},'<Field control={controlRef.current}>\n    {({ value, setValue }) => {\n        return <TextField label="material-ui" value={value} onChange={(e) => setValue(e.target.value)} />;\n    }}\n</Field>'),r.createElement(E,{paragraph:!0},"<Field/>","接受函数作为children，向下传递状态与控制状态的方法。本例将value传入给视图组件，并暴露setValue方法，提供修改value的能力。",r.createElement("b",null,"如果使用者觉得这个函数有些啰嗦，开发团队期待你使用如HOC等任何的编程技巧简化代码。")),r.createElement(E,{paragraph:!0},"本来自采用material-ui作为视图库。完整代码如下："),r.createElement(he,{code:'import { useRef } from "react";\nimport { TextField } from "@material-ui/core";\nimport { Field, FieldControl } from "react-observable-form";\n\nexport const BasicWithMui = () => {\n  const controlRef = useRef(new FieldControl<string>(""));\n\n  return (\n    <Field control={controlRef.current}>\n      {({ value, setValue }) => {\n        return <TextField label="material-ui" value={value} onChange={(e) => setValue(e.target.value)} />;\n      }}\n    </Field>\n  );\n};\n',demo:r.createElement(ne,null)}));function ge(){const e=$();return r.createElement("div",{className:"App"},"/"!==e.pathname&&r.createElement(be,null),r.createElement("div",{className:"content"},r.createElement(G,null,r.createElement(w,{exact:!0,path:"/",component:se}),r.createElement(w,{path:"/quick-start",component:ce}),r.createElement(w,{path:"/core",component:fe}),r.createElement(w,{path:"/field",component:ve}))))}const Ee=N({palette:{primary:{main:"#FE6B8B"}},typography:{h2:{color:"#FE6B8B",fontWeight:100},h4:{fontWeight:100},body1:{fontWeight:100}}});A.render(r.createElement(r.StrictMode,null,r.createElement(D,{theme:Ee},r.createElement(R,{basename:"/react-observable-form"},r.createElement(ge,null)))),document.getElementById("root"));
